{"ast":null,"code":"\"use strict\";\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\n\nexports.__esModule = true;\n\nvar React = __importStar(require(\"react\"));\n\nvar react_dom_1 = require(\"react-dom\");\n\nexports.ShadowPortal = function Portal(_a) {\n  var children = _a.children;\n  var mountNode = React.useRef(null);\n  var portalNode = React.useRef(null);\n  var shadowNode = React.useRef(null);\n\n  var _b = __read(React.useState(), 2),\n      forceUpdate = _b[1];\n\n  React.useLayoutEffect(function () {\n    var ownerDocument = mountNode.current.ownerDocument;\n    portalNode.current = ownerDocument.createElement('nextjs-portal');\n    shadowNode.current = portalNode.current.attachShadow({\n      mode: 'open'\n    });\n    ownerDocument.body.appendChild(portalNode.current);\n    forceUpdate({});\n    return function () {\n      if (portalNode.current && portalNode.current.ownerDocument) {\n        portalNode.current.ownerDocument.body.removeChild(portalNode.current);\n      }\n    };\n  }, []);\n  return shadowNode.current ? react_dom_1.createPortal(children, shadowNode.current) : React.createElement(\"span\", {\n    ref: mountNode\n  });\n};","map":{"version":3,"sources":["../../../src/internal/components/ShadowPortal.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,KAAA,GAAA,YAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;AACA,IAAA,WAAA,GAAA,OAAA,CAAA,WAAA,CAAA;;AAMa,OAAA,CAAA,YAAA,GAA4C,SAAS,MAAT,CAAgB,EAAhB,EAExD;MADC,QAAA,GAAA,EAAA,CAAA,Q;AAEA,MAAI,SAAS,GAAG,KAAK,CAAC,MAAN,CAAoC,IAApC,CAAhB;AACA,MAAI,UAAU,GAAG,KAAK,CAAC,MAAN,CAAiC,IAAjC,CAAjB;AACA,MAAI,UAAU,GAAG,KAAK,CAAC,MAAN,CAAgC,IAAhC,CAAjB;;AACI,MAAA,EAAA,GAAA,MAAA,CAAA,KAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA;AAAA,MAAG,WAAA,GAAA,EAAA,CAAA,CAAA,CAAH;;AAEJ,EAAA,KAAK,CAAC,eAAN,CAAsB,YAAA;AACpB,QAAM,aAAa,GAAG,SAAS,CAAC,OAAV,CAAmB,aAAzC;AACA,IAAA,UAAU,CAAC,OAAX,GAAqB,aAAa,CAAC,aAAd,CAA4B,eAA5B,CAArB;AACA,IAAA,UAAU,CAAC,OAAX,GAAqB,UAAU,CAAC,OAAX,CAAmB,YAAnB,CAAgC;AAAE,MAAA,IAAI,EAAE;AAAR,KAAhC,CAArB;AACA,IAAA,aAAa,CAAC,IAAd,CAAmB,WAAnB,CAA+B,UAAU,CAAC,OAA1C;AACA,IAAA,WAAW,CAAC,EAAD,CAAX;AACA,WAAO,YAAA;AACL,UAAI,UAAU,CAAC,OAAX,IAAsB,UAAU,CAAC,OAAX,CAAmB,aAA7C,EAA4D;AAC1D,QAAA,UAAU,CAAC,OAAX,CAAmB,aAAnB,CAAiC,IAAjC,CAAsC,WAAtC,CAAkD,UAAU,CAAC,OAA7D;AACD;AACF,KAJD;AAKD,GAXD,EAWG,EAXH;AAaA,SAAO,UAAU,CAAC,OAAX,GACL,WAAA,CAAA,YAAA,CAAa,QAAb,EAAuB,UAAU,CAAC,OAAlC,CADK,GAGL,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,IAAA,GAAG,EAAE;AAAX,GAAA,CAHF;AAKD,CA1BY","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nexports.__esModule = true;\nvar React = __importStar(require(\"react\"));\nvar react_dom_1 = require(\"react-dom\");\nexports.ShadowPortal = function Portal(_a) {\n    var children = _a.children;\n    var mountNode = React.useRef(null);\n    var portalNode = React.useRef(null);\n    var shadowNode = React.useRef(null);\n    var _b = __read(React.useState(), 2), forceUpdate = _b[1];\n    React.useLayoutEffect(function () {\n        var ownerDocument = mountNode.current.ownerDocument;\n        portalNode.current = ownerDocument.createElement('nextjs-portal');\n        shadowNode.current = portalNode.current.attachShadow({ mode: 'open' });\n        ownerDocument.body.appendChild(portalNode.current);\n        forceUpdate({});\n        return function () {\n            if (portalNode.current && portalNode.current.ownerDocument) {\n                portalNode.current.ownerDocument.body.removeChild(portalNode.current);\n            }\n        };\n    }, []);\n    return shadowNode.current ? (react_dom_1.createPortal(children, shadowNode.current)) : (React.createElement(\"span\", { ref: mountNode }));\n};\n//# sourceMappingURL=ShadowPortal.js.map"]},"metadata":{},"sourceType":"script"}