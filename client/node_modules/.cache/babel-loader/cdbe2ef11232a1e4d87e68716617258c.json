{"ast":null,"code":"/**\n * Copyright 2019 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n'use strict';\n\nconst {\n  firstChildByTag\n} = require('../NodeUtils');\n/**\n * AddTransformedFlag - adds a transformed attribute to the html element.\n *\n * This is required for transformed AMP files to be recognized by the AMP\n * validator.\n */\n\n\nclass AddTransformedFlag {\n  transform(root) {\n    const html = firstChildByTag(root, 'html');\n    if (!html) return;\n    html.attribs.transformed = 'self;v=1';\n  }\n\n}\n\nmodule.exports = AddTransformedFlag;","map":{"version":3,"sources":["/Users/bruceseymour/ra-video/client/node_modules/@ampproject/toolbox-optimizer/lib/transformers/AddTransformedFlag.js"],"names":["firstChildByTag","require","AddTransformedFlag","transform","root","html","attribs","transformed","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAM;AAACA,EAAAA;AAAD,IAAoBC,OAAO,CAAC,cAAD,CAAjC;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAMC,kBAAN,CAAyB;AACvBC,EAAAA,SAAS,CAACC,IAAD,EAAO;AACd,UAAMC,IAAI,GAAGL,eAAe,CAACI,IAAD,EAAO,MAAP,CAA5B;AACA,QAAI,CAACC,IAAL,EAAW;AACXA,IAAAA,IAAI,CAACC,OAAL,CAAaC,WAAb,GAA2B,UAA3B;AACD;;AALsB;;AAQzBC,MAAM,CAACC,OAAP,GAAiBP,kBAAjB","sourcesContent":["/**\n * Copyright 2019 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n'use strict';\n\nconst {firstChildByTag} = require('../NodeUtils');\n/**\n * AddTransformedFlag - adds a transformed attribute to the html element.\n *\n * This is required for transformed AMP files to be recognized by the AMP\n * validator.\n */\nclass AddTransformedFlag {\n  transform(root) {\n    const html = firstChildByTag(root, 'html');\n    if (!html) return;\n    html.attribs.transformed = 'self;v=1';\n  }\n}\n\nmodule.exports = AddTransformedFlag;\n"]},"metadata":{},"sourceType":"script"}