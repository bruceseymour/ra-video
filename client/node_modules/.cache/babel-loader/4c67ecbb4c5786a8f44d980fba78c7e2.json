{"ast":null,"code":"/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n'use strict';\n\nconst HTML_START = '<html';\n/**\n * Returns if the string is an AMP document.\n *\n * @param {string} string\n * @returns {boolean}\n */\n\nmodule.exports = function isAmp(string) {\n  let start = string.indexOf(HTML_START);\n\n  if (start === -1) {\n    return false;\n  }\n\n  start += HTML_START.length;\n  const end = string.indexOf('>', start);\n\n  if (end === -1) {\n    return false;\n  }\n\n  let attrs = string.substring(start, end).split(/\\s+/);\n  attrs = attrs.map(a => a.split('=')[0]);\n  return attrs.includes('amp') || attrs.includes('⚡');\n};","map":{"version":3,"sources":["/Users/bruceseymour/ra-video/client/node_modules/@ampproject/toolbox-core/lib/IsAmp.js"],"names":["HTML_START","module","exports","isAmp","string","start","indexOf","length","end","attrs","substring","split","map","a","includes"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMA,UAAU,GAAG,OAAnB;AAEA;AACA;AACA;AACA;AACA;AACA;;AACAC,MAAM,CAACC,OAAP,GAAiB,SAASC,KAAT,CAAeC,MAAf,EAAuB;AACtC,MAAIC,KAAK,GAAGD,MAAM,CAACE,OAAP,CAAeN,UAAf,CAAZ;;AACA,MAAIK,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChB,WAAO,KAAP;AACD;;AACDA,EAAAA,KAAK,IAAIL,UAAU,CAACO,MAApB;AACA,QAAMC,GAAG,GAAGJ,MAAM,CAACE,OAAP,CAAe,GAAf,EAAoBD,KAApB,CAAZ;;AACA,MAAIG,GAAG,KAAK,CAAC,CAAb,EAAgB;AACd,WAAO,KAAP;AACD;;AACD,MAAIC,KAAK,GAAGL,MAAM,CAACM,SAAP,CAAiBL,KAAjB,EAAwBG,GAAxB,EAA6BG,KAA7B,CAAmC,KAAnC,CAAZ;AACAF,EAAAA,KAAK,GAAGA,KAAK,CAACG,GAAN,CAAWC,CAAD,IAAOA,CAAC,CAACF,KAAF,CAAQ,GAAR,EAAa,CAAb,CAAjB,CAAR;AACA,SAAOF,KAAK,CAACK,QAAN,CAAe,KAAf,KAAyBL,KAAK,CAACK,QAAN,CAAe,GAAf,CAAhC;AACD,CAbD","sourcesContent":["/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n'use strict';\n\nconst HTML_START = '<html';\n\n/**\n * Returns if the string is an AMP document.\n *\n * @param {string} string\n * @returns {boolean}\n */\nmodule.exports = function isAmp(string) {\n  let start = string.indexOf(HTML_START);\n  if (start === -1) {\n    return false;\n  }\n  start += HTML_START.length;\n  const end = string.indexOf('>', start);\n  if (end === -1) {\n    return false;\n  }\n  let attrs = string.substring(start, end).split(/\\s+/);\n  attrs = attrs.map((a) => a.split('=')[0]);\n  return attrs.includes('amp') || attrs.includes('⚡');\n};\n"]},"metadata":{},"sourceType":"script"}