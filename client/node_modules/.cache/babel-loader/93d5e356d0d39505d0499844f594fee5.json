{"ast":null,"code":"/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n'use strict';\n\nconst {\n  hasAttribute,\n  insertBefore,\n  createElement,\n  appendChild\n} = require('../NodeUtils');\n\nconst {\n  parseLayout,\n  cssLength,\n  calculateHeight,\n  calculateWidth,\n  calculateLayout,\n  getLayoutClass,\n  isLayoutSizeDefined,\n  getLayoutSizeDefinedClass\n} = require('../ParseLayout.js');\n\nconst SUPPORTED_LAYOUTS = ['', 'nodisplay', 'fixed', 'fixed-height', 'responsive', 'container', 'fill', 'flex-item', 'intrinsic'];\n\nfunction isSupportedLayout(layout) {\n  return SUPPORTED_LAYOUTS.indexOf(layout) > -1;\n}\n\nfunction getAttributeOrNull(element, name) {\n  return hasAttribute(element, name) ? element.attribs[name] : null;\n}\n\nfunction addClass(node, value) {\n  node.attribs.class = hasAttribute(node, 'class') ? node.attribs.class + ' ' + value : value;\n}\n\nfunction apply(layout, width, height, node) {\n  addClass(node, getLayoutClass(layout));\n\n  if (isLayoutSizeDefined(layout)) {\n    addClass(node, getLayoutSizeDefinedClass());\n  }\n\n  let styles = '';\n\n  switch (layout) {\n    case 'nodisplay':\n      node.attribs.hidden = 'hidden';\n      break;\n\n    case 'fixed':\n      styles = `width:${width.numeral}${width.unit};height:${height.numeral}${height.unit};`;\n      break;\n\n    case 'fixed-height':\n      styles = `height:${height.numeral}${height.unit};`;\n      break;\n\n    case 'responsive':\n      // Do nothing here, but emit <i-amphtml-sizer> later.\n      break;\n\n    case 'intrinsic':\n      // Do nothing here, but emit <i-amphtml-sizer> later.\n      break;\n\n    case 'fill':\n    case 'container':\n      // Do nothing here.\n      break;\n\n    case 'flex-item':\n      if (width.isSet) {\n        styles = `width:${width.numeral}${width.unit};`;\n      }\n\n      if (height.isSet) {\n        styles += `height:${height.numeral}${height.unit};`;\n      }\n\n      break;\n\n    default: // Do nothing.\n\n  } // We prepend just in case an existing value (which shouldn't be there for\n  // valid docs) doesn't end with ';'.\n\n\n  node.attribs.style = styles + (node.attribs.style ? node.attribs.style : '');\n\n  if (node.attribs.style === '') {\n    delete node.attribs.style;\n  }\n\n  node.attribs['i-amphtml-layout'] = layout;\n}\n\nfunction maybeAddSizerInto(node, layout, width, height) {\n  if (!width.isSet || width.numeral === 0 || !height.isSet || width.unit !== height.unit) {\n    return;\n  }\n\n  let sizer = null;\n\n  if (layout === 'responsive') {\n    sizer = createResponsiveSizer(width, height);\n  } else if (layout === 'intrinsic') {\n    sizer = createIntrinsicSizer(width, height);\n  }\n\n  if (sizer) {\n    const referenceNode = node.firstChild;\n    insertBefore(node, sizer, referenceNode);\n  }\n}\n\nfunction createResponsiveSizer(width, height) {\n  const padding = height.numeral / width.numeral * 100;\n  const sizer = createElement('i-amphtml-sizer', {\n    style: `display:block;padding-top:${parseFloat(padding.toFixed(4))}%`\n  });\n  return sizer;\n}\n\nfunction createIntrinsicSizer(width, height) {\n  // Intrinsic uses an svg inside the sizer element rather than the padding\n  // trick Note a naked svg won't work because other things expect the\n  // i-amphtml-sizer element\n  const sizer = createElement('i-amphtml-sizer', {\n    class: 'i-amphtml-sizer'\n  });\n  const sizerImg = createElement('img', {\n    'alt': '',\n    'aria-hidden': 'true',\n    'class': 'i-amphtml-intrinsic-sizer',\n    'role': 'presentation',\n    'src': `data:image/svg+xml;charset=utf-8,<svg height=\"${height.numeral}\" width=\"${width.numeral}\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\"/>`\n  });\n  appendChild(sizer, sizerImg);\n  return sizer;\n}\n\nmodule.exports = {\n  applyLayout: function (customElement, log) {\n    const ampLayout = parseLayout(customElement.attribs.layout);\n    const widthAttribute = getAttributeOrNull(customElement, 'width');\n    const inputWidth = cssLength(widthAttribute,\n    /* allow_auto=*/\n    true,\n    /* allow_fluid=*/\n    false);\n\n    if (!inputWidth.isValid) {\n      log.debug('cannot perform SSR: invalid input width\\n', widthAttribute);\n      return false;\n    }\n\n    const heightAttribute = getAttributeOrNull(customElement, 'height');\n    const inputHeight = cssLength(heightAttribute,\n    /* allow_auto=*/\n    true,\n    /* allow_fluid=*/\n    ampLayout === 'fluid');\n\n    if (!inputHeight.isValid) {\n      log.debug('cannot perform SSR: invalid input height\\n', heightAttribute);\n      return false;\n    } // Calculate effective height, width and layout.\n\n\n    const height = calculateHeight(ampLayout, inputHeight, customElement.tagName);\n    const width = calculateWidth(ampLayout, inputWidth, customElement.tagName);\n    const layout = calculateLayout(ampLayout, width, height, getAttributeOrNull(customElement, 'sizes'), getAttributeOrNull(customElement, 'heights'));\n\n    if (!isSupportedLayout(layout)) {\n      log.debug('cannot perform SSR: unsupported layout', layout);\n      return false;\n    }\n\n    apply(layout, width, height, customElement);\n    maybeAddSizerInto(customElement, layout, width, height);\n    return true;\n  }\n};","map":{"version":3,"sources":["/Users/bruceseymour/ra-video/client/node_modules/@ampproject/toolbox-optimizer/lib/transformers/ApplyLayout.js"],"names":["hasAttribute","insertBefore","createElement","appendChild","require","parseLayout","cssLength","calculateHeight","calculateWidth","calculateLayout","getLayoutClass","isLayoutSizeDefined","getLayoutSizeDefinedClass","SUPPORTED_LAYOUTS","isSupportedLayout","layout","indexOf","getAttributeOrNull","element","name","attribs","addClass","node","value","class","apply","width","height","styles","hidden","numeral","unit","isSet","style","maybeAddSizerInto","sizer","createResponsiveSizer","createIntrinsicSizer","referenceNode","firstChild","padding","parseFloat","toFixed","sizerImg","module","exports","applyLayout","customElement","log","ampLayout","widthAttribute","inputWidth","isValid","debug","heightAttribute","inputHeight","tagName"],"mappings":"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","sourcesContent":["/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n'use strict';\n\nconst {hasAttribute, insertBefore, createElement, appendChild} = require('../NodeUtils');\nconst {\n  parseLayout,\n  cssLength,\n  calculateHeight,\n  calculateWidth,\n  calculateLayout,\n  getLayoutClass,\n  isLayoutSizeDefined,\n  getLayoutSizeDefinedClass,\n} = require('../ParseLayout.js');\n\nconst SUPPORTED_LAYOUTS = [\n  '',\n  'nodisplay',\n  'fixed',\n  'fixed-height',\n  'responsive',\n  'container',\n  'fill',\n  'flex-item',\n  'intrinsic',\n];\n\nfunction isSupportedLayout(layout) {\n  return SUPPORTED_LAYOUTS.indexOf(layout) > -1;\n}\n\nfunction getAttributeOrNull(element, name) {\n  return hasAttribute(element, name) ? element.attribs[name] : null;\n}\n\nfunction addClass(node, value) {\n  node.attribs.class = hasAttribute(node, 'class') ? node.attribs.class + ' ' + value : value;\n}\n\nfunction apply(layout, width, height, node) {\n  addClass(node, getLayoutClass(layout));\n  if (isLayoutSizeDefined(layout)) {\n    addClass(node, getLayoutSizeDefinedClass());\n  }\n\n  let styles = '';\n  switch (layout) {\n    case 'nodisplay':\n      node.attribs.hidden = 'hidden';\n      break;\n    case 'fixed':\n      styles = `width:${width.numeral}${width.unit};height:${height.numeral}${height.unit};`;\n      break;\n    case 'fixed-height':\n      styles = `height:${height.numeral}${height.unit};`;\n      break;\n    case 'responsive':\n      // Do nothing here, but emit <i-amphtml-sizer> later.\n      break;\n    case 'intrinsic':\n      // Do nothing here, but emit <i-amphtml-sizer> later.\n      break;\n    case 'fill':\n    case 'container':\n      // Do nothing here.\n      break;\n    case 'flex-item':\n      if (width.isSet) {\n        styles = `width:${width.numeral}${width.unit};`;\n      }\n      if (height.isSet) {\n        styles += `height:${height.numeral}${height.unit};`;\n      }\n      break;\n    default:\n    // Do nothing.\n  }\n  // We prepend just in case an existing value (which shouldn't be there for\n  // valid docs) doesn't end with ';'.\n  node.attribs.style = styles + (node.attribs.style ? node.attribs.style : '');\n  if (node.attribs.style === '') {\n    delete node.attribs.style;\n  }\n\n  node.attribs['i-amphtml-layout'] = layout;\n}\n\nfunction maybeAddSizerInto(node, layout, width, height) {\n  if (!width.isSet || width.numeral === 0 || !height.isSet || width.unit !== height.unit) {\n    return;\n  }\n  let sizer = null;\n  if (layout === 'responsive') {\n    sizer = createResponsiveSizer(width, height);\n  } else if (layout === 'intrinsic') {\n    sizer = createIntrinsicSizer(width, height);\n  }\n  if (sizer) {\n    const referenceNode = node.firstChild;\n    insertBefore(node, sizer, referenceNode);\n  }\n}\n\nfunction createResponsiveSizer(width, height) {\n  const padding = (height.numeral / width.numeral) * 100;\n  const sizer = createElement('i-amphtml-sizer', {\n    style: `display:block;padding-top:${parseFloat(padding.toFixed(4))}%`,\n  });\n  return sizer;\n}\n\nfunction createIntrinsicSizer(width, height) {\n  // Intrinsic uses an svg inside the sizer element rather than the padding\n  // trick Note a naked svg won't work because other things expect the\n  // i-amphtml-sizer element\n  const sizer = createElement('i-amphtml-sizer', {\n    class: 'i-amphtml-sizer',\n  });\n  const sizerImg = createElement('img', {\n    'alt': '',\n    'aria-hidden': 'true',\n    'class': 'i-amphtml-intrinsic-sizer',\n    'role': 'presentation',\n    'src': `data:image/svg+xml;charset=utf-8,<svg height=\"${height.numeral}\" width=\"${width.numeral}\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\"/>`,\n  });\n  appendChild(sizer, sizerImg);\n  return sizer;\n}\n\nmodule.exports = {\n  applyLayout: function (customElement, log) {\n    const ampLayout = parseLayout(customElement.attribs.layout);\n    const widthAttribute = getAttributeOrNull(customElement, 'width');\n    const inputWidth = cssLength(widthAttribute, /* allow_auto=*/ true, /* allow_fluid=*/ false);\n    if (!inputWidth.isValid) {\n      log.debug('cannot perform SSR: invalid input width\\n', widthAttribute);\n      return false;\n    }\n    const heightAttribute = getAttributeOrNull(customElement, 'height');\n    const inputHeight = cssLength(\n      heightAttribute,\n      /* allow_auto=*/ true,\n      /* allow_fluid=*/ ampLayout === 'fluid'\n    );\n    if (!inputHeight.isValid) {\n      log.debug('cannot perform SSR: invalid input height\\n', heightAttribute);\n      return false;\n    }\n\n    // Calculate effective height, width and layout.\n    const height = calculateHeight(ampLayout, inputHeight, customElement.tagName);\n    const width = calculateWidth(ampLayout, inputWidth, customElement.tagName);\n\n    const layout = calculateLayout(\n      ampLayout,\n      width,\n      height,\n      getAttributeOrNull(customElement, 'sizes'),\n      getAttributeOrNull(customElement, 'heights')\n    );\n\n    if (!isSupportedLayout(layout)) {\n      log.debug('cannot perform SSR: unsupported layout', layout);\n      return false;\n    }\n\n    apply(layout, width, height, customElement);\n    maybeAddSizerInto(customElement, layout, width, height);\n    return true;\n  },\n};\n"]},"metadata":{},"sourceType":"script"}