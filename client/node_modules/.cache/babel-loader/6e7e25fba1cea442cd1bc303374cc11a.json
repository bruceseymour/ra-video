{"ast":null,"code":"function set(obj, key, val) {\n  if (typeof val.value === 'object') val.value = klona(val.value);\n\n  if (!val.enumerable || val.get || val.set || !val.configurable || !val.writable || key === '__proto__') {\n    Object.defineProperty(obj, key, val);\n  } else obj[key] = val.value;\n}\n\nexport function klona(x) {\n  if (typeof x !== 'object') return x;\n  var i = 0,\n      k,\n      list,\n      tmp,\n      str = Object.prototype.toString.call(x);\n\n  if (str === '[object Object]') {\n    tmp = Object.create(x.__proto__ || null);\n  } else if (str === '[object Array]') {\n    tmp = Array(x.length);\n  } else if (str === '[object Set]') {\n    tmp = new Set();\n    x.forEach(function (val) {\n      tmp.add(klona(val));\n    });\n  } else if (str === '[object Map]') {\n    tmp = new Map();\n    x.forEach(function (val, key) {\n      tmp.set(klona(key), klona(val));\n    });\n  } else if (str === '[object Date]') {\n    tmp = new Date(+x);\n  } else if (str === '[object RegExp]') {\n    tmp = new RegExp(x.source, x.flags);\n  } else if (str === '[object DataView]') {\n    tmp = new x.constructor(klona(x.buffer));\n  } else if (str === '[object ArrayBuffer]') {\n    tmp = x.slice(0);\n  } else if (str.slice(-6) === 'Array]') {\n    // ArrayBuffer.isView(x)\n    // ~> `new` bcuz `Buffer.slice` => ref\n    tmp = new x.constructor(x);\n  }\n\n  if (tmp) {\n    for (list = Object.getOwnPropertySymbols(x); i < list.length; i++) {\n      set(tmp, list[i], Object.getOwnPropertyDescriptor(x, list[i]));\n    }\n\n    for (i = 0, list = Object.getOwnPropertyNames(x); i < list.length; i++) {\n      if (Object.hasOwnProperty.call(tmp, k = list[i]) && tmp[k] === x[k]) continue;\n      set(tmp, k, Object.getOwnPropertyDescriptor(x, k));\n    }\n  }\n\n  return tmp || x;\n}","map":{"version":3,"sources":["/Users/bruceseymour/ra-video/client/node_modules/klona/full/index.mjs"],"names":["set","obj","key","val","value","klona","enumerable","get","configurable","writable","Object","defineProperty","x","i","k","list","tmp","str","prototype","toString","call","create","__proto__","Array","length","Set","forEach","add","Map","Date","RegExp","source","flags","constructor","buffer","slice","getOwnPropertySymbols","getOwnPropertyDescriptor","getOwnPropertyNames","hasOwnProperty"],"mappings":"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","sourcesContent":["function set(obj, key, val) {\n\tif (typeof val.value === 'object') val.value = klona(val.value);\n\tif (!val.enumerable || val.get || val.set || !val.configurable || !val.writable || key === '__proto__') {\n\t\tObject.defineProperty(obj, key, val);\n\t} else obj[key] = val.value;\n}\n\nexport function klona(x) {\n\tif (typeof x !== 'object') return x;\n\n\tvar i=0, k, list, tmp, str=Object.prototype.toString.call(x);\n\n\tif (str === '[object Object]') {\n\t\ttmp = Object.create(x.__proto__ || null);\n\t} else if (str === '[object Array]') {\n\t\ttmp = Array(x.length);\n\t} else if (str === '[object Set]') {\n\t\ttmp = new Set;\n\t\tx.forEach(function (val) {\n\t\t\ttmp.add(klona(val));\n\t\t});\n\t} else if (str === '[object Map]') {\n\t\ttmp = new Map;\n\t\tx.forEach(function (val, key) {\n\t\t\ttmp.set(klona(key), klona(val));\n\t\t});\n\t} else if (str === '[object Date]') {\n\t\ttmp = new Date(+x);\n\t} else if (str === '[object RegExp]') {\n\t\ttmp = new RegExp(x.source, x.flags);\n\t} else if (str === '[object DataView]') {\n\t\ttmp = new x.constructor( klona(x.buffer) );\n\t} else if (str === '[object ArrayBuffer]') {\n\t\ttmp = x.slice(0);\n\t} else if (str.slice(-6) === 'Array]') {\n\t\t// ArrayBuffer.isView(x)\n\t\t// ~> `new` bcuz `Buffer.slice` => ref\n\t\ttmp = new x.constructor(x);\n\t}\n\n\tif (tmp) {\n\t\tfor (list=Object.getOwnPropertySymbols(x); i < list.length; i++) {\n\t\t\tset(tmp, list[i], Object.getOwnPropertyDescriptor(x, list[i]));\n\t\t}\n\n\t\tfor (i=0, list=Object.getOwnPropertyNames(x); i < list.length; i++) {\n\t\t\tif (Object.hasOwnProperty.call(tmp, k=list[i]) && tmp[k] === x[k]) continue;\n\t\t\tset(tmp, k, Object.getOwnPropertyDescriptor(x, k));\n\t\t}\n\t}\n\n\treturn tmp || x;\n}\n"]},"metadata":{},"sourceType":"module"}